<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Kehadiran Guru - Sekolah</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 25px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 2.8em;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .header p {
            font-size: 1.3em;
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        
        .info-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #34495e;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            margin-top: 15px;
        }
        
        .info-item {
            text-align: center;
        }
        
        .info-value {
            font-size: 1.4em;
            font-weight: bold;
            color: #3498db;
        }
        
        .info-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 25px;
        }
        
        .classes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .class-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border-left: 6px solid #3498db;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .class-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }
        
        .class-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .class-name {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .class-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .stat {
            text-align: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .stat-value {
            font-size: 1.6em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.8em;
            color: #7f8c8d;
            margin-top: 5px;
        }
        
        .attendance-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .attendance-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }
        
        .attendance-item.absent {
            border-left-color: #e74c3c;
        }
        
        .attendance-item.leave {
            border-left-color: #f39c12;
        }
        
        .attendance-item.sick {
            border-left-color: #9b59b6;
        }
        
        .teacher-info {
            flex: 1;
        }
        
        .teacher-name {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .teacher-subject {
            font-size: 0.8em;
            color: #7f8c8d;
        }
        
        .attendance-status {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
        }
        
        .status-hadir {
            background: #d4edda;
            color: #155724;
        }
        
        .status-tidak_hadir {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-izin {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-sakit {
            background: #e2e3f3;
            color: #383d81;
        }
        
        .time {
            font-size: 0.7em;
            color: #95a5a6;
            margin-top: 2px;
        }
        
        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }
        
        .sidebar h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .overall-stats {
            margin-bottom: 20px;
        }
        
        .overall-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .stat-percentage {
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 5px;
        }
        
        .progress-fill {
            height: 100%;
            background: #27ae60;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .recent-activity {
            margin-top: 20px;
        }
        
        .activity-item {
            padding: 10px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            font-size: 0.9em;
        }
        
        .clock {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #3498db, #2c3e50);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .date-display {
            text-align: center;
            font-size: 1.1em;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        
        .no-data {
            text-align: center;
            color: #7f8c8d;
            padding: 20px;
            font-style: italic;
        }
        
        .class-percentage {
            font-size: 0.9em;
            color: #27ae60;
            font-weight: bold;
        }
        
        .refresh-info {
            text-align: center;
            color: #7f8c8d;
            font-size: 0.8em;
            margin-top: 10px;
        }

        .demo-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            color: #856404;
        }

        .login-link {
            text-align: center;
            margin-top: 20px;
        }

        .login-link a {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
            padding: 10px 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .login-link a:hover {
            background: #3498db;
            color: white;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .class-card {
            animation: fadeIn 0.6s ease-out;
        }
        
        /* Status colors for percentages */
        .percentage-excellent { color: #27ae60; }
        .percentage-good { color: #3498db; }
        .percentage-fair { color: #f39c12; }
        .percentage-poor { color: #e74c3c; }

        /* Loading animation */
        .loading {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { color: rgba(0,0,0,0); text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            40% { color: #7f8c8d; text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            60% { text-shadow: .25em 0 0 #7f8c8d, .5em 0 0 rgba(0,0,0,0); }
            80%, 100% { text-shadow: .25em 0 0 #7f8c8d, .5em 0 0 #7f8c8d; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè´ DASHBOARD KEHADIRAN GURU</h1>
            <p>Sistem Pemantauan Real-time Kehadiran Guru - TAMPILAN PUBLIK</p>
            
            <div class="demo-notice">
                ‚ö†Ô∏è <strong>DEMO MODE</strong> - Dashboard ini menampilkan data contoh untuk demonstrasi
            </div>
            
            <div class="info-bar">
                <div class="info-item">
                    <div class="info-value" id="totalGuru">24</div>
                    <div class="info-label">Total Guru</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="totalHadir">18</div>
                    <div class="info-label">Hadir Hari Ini</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="totalTidakHadir">6</div>
                    <div class="info-label">Tidak Hadir</div>
                </div>
                <div class="info-item">
                    <div class="info-value percentage-excellent" id="persentaseSekolah">75%</div>
                    <div class="info-label">Persentase Kehadiran</div>
                </div>
                <div class="info-item">
                    <div class="info-value" id="lastUpdate">--:--:--</div>
                    <div class="info-label">Update Terakhir</div>
                </div>
            </div>

            <div class="login-link">
                <a href="login.html">üîê Login sebagai Admin/Ketua Kelas</a>
            </div>
        </div>

        <div class="main-content">
            <div class="classes-section">
                <div class="classes-grid" id="classesGrid">
                    <div class="loading">Memuat data kelas</div>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="clock" id="liveClock">--:--:--</div>
                <div class="date-display" id="currentDate">-</div>
                
                <div class="overall-stats">
                    <h3>üìä STATISTIK SEKOLAH</h3>
                    <div class="overall-stat">
                        <span>Kehadiran Hari Ini:</span>
                        <span class="stat-percentage percentage-excellent" id="attendancePercentage">75%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="attendanceProgress" style="width: 75%"></div>
                    </div>
                    
                    <div class="overall-stat">
                        <span>Guru Hadir:</span>
                        <span id="teachersPresent">18</span>
                    </div>
                    <div class="overall-stat">
                        <span>Guru Tidak Hadir:</span>
                        <span id="teachersAbsent">3</span>
                    </div>
                    <div class="overall-stat">
                        <span>Guru Izin:</span>
                        <span id="teachersLeave">2</span>
                    </div>
                    <div class="overall-stat">
                        <span>Guru Sakit:</span>
                        <span id="teachersSick">1</span>
                    </div>
                </div>
                
                <div class="recent-activity">
                    <h3>üïê AKTIVITAS TERBARU</h3>
                    <div id="recentActivity">
                        <div class="activity-item">Sistem dashboard berhasil dijalankan</div>
                        <div class="activity-item">Data demo dimuat dengan sukses</div>
                        <div class="activity-item">Monitor kehadiran aktif</div>
                    </div>
                </div>
                
                <div class="refresh-info">
                    Dashboard publik - Data contoh
                </div>
            </div>
        </div>
    </div>

    <script>
        // Demo data yang lengkap dan realistis
        const demoData = {
            classes: [
                {
                    name: 'X IPA 1',
                    teachers: [
                        { name: 'Bu Siti', subject: 'Matematika', status: 'hadir', time: '07:30' },
                        { name: 'Pak Budi', subject: 'Fisika', status: 'hadir', time: '07:45' },
                        { name: 'Bu Rina', subject: 'Kimia', status: 'izin', time: '' }
                    ]
                },
                {
                    name: 'X IPA 2', 
                    teachers: [
                        { name: 'Pak Joko', subject: 'Biologi', status: 'hadir', time: '07:35' },
                        { name: 'Bu Dewi', subject: 'Matematika', status: 'hadir', time: '07:40' },
                        { name: 'Pak Andi', subject: 'Bahasa Inggris', status: 'sakit', time: '' }
                    ]
                },
                {
                    name: 'X IPA 3',
                    teachers: [
                        { name: 'Bu Maya', subject: 'Sejarah', status: 'hadir', time: '07:50' },
                        { name: 'Pak Rudi', subject: 'Olahraga', status: 'tidak_hadir', time: '' },
                        { name: 'Bu Sari', subject: 'Seni Budaya', status: 'hadir', time: '08:00' }
                    ]
                },
                {
                    name: 'X IPS 1',
                    teachers: [
                        { name: 'Pak Hendra', subject: 'Ekonomi', status: 'hadir', time: '07:30' },
                        { name: 'Bu Lina', subject: 'Sosiologi', status: 'hadir', time: '07:55' }
                    ]
                },
                {
                    name: 'X IPS 2',
                    teachers: [
                        { name: 'Bu Nina', subject: 'Geografi', status: 'hadir', time: '07:40' },
                        { name: 'Pak Agus', subject: 'Sejarah', status: 'izin', time: '' }
                    ]
                },
                {
                    name: 'XI IPA 1',
                    teachers: [
                        { name: 'Bu Rani', subject: 'Matematika', status: 'hadir', time: '07:35' },
                        { name: 'Pak Dedi', subject: 'Fisika', status: 'hadir', time: '07:45' },
                        { name: 'Bu Tuti', subject: 'Kimia', status: 'hadir', time: '08:00' }
                    ]
                },
                {
                    name: 'XI IPA 2',
                    teachers: [
                        { name: 'Pak Eko', subject: 'Biologi', status: 'hadir', time: '07:30' },
                        { name: 'Bu Maya', subject: 'Bahasa Indonesia', status: 'sakit', time: '' }
                    ]
                },
                {
                    name: 'XI IPS 1',
                    teachers: [
                        { name: 'Bu Siska', subject: 'Ekonomi', status: 'hadir', time: '07:50' },
                        { name: 'Pak Roni', subject: 'Sosiologi', status: 'hadir', time: '07:40' }
                    ]
                },
                {
                    name: 'XII IPA 1',
                    teachers: [
                        { name: 'Bu Dian', subject: 'Matematika', status: 'hadir', time: '07:30' },
                        { name: 'Pak Fajar', subject: 'Fisika', status: 'hadir', time: '07:45' },
                        { name: 'Bu Gita', subject: 'Kimia', status: 'tidak_hadir', time: '' }
                    ]
                },
                {
                    name: 'XII IPS 1',
                    teachers: [
                        { name: 'Pak Heru', subject: 'Ekonomi', status: 'hadir', time: '07:35' },
                        { name: 'Bu Indah', subject: 'Geografi', status: 'hadir', time: '07:50' }
                    ]
                }
            ]
        };

        // Update clock and date
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('id-ID', { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                hour12: false 
            });
            const dateString = now.toLocaleDateString('id-ID', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('liveClock').textContent = timeString;
            document.getElementById('currentDate').textContent = dateString;
            document.getElementById('lastUpdate').textContent = timeString;
        }

        // Load demo data
        function loadDemoData() {
            const classesGrid = document.getElementById('classesGrid');
            let html = '';

            demoData.classes.forEach(classData => {
                const totalTeachers = classData.teachers.length;
                const present = classData.teachers.filter(t => t.status === 'hadir').length;
                const percentage = Math.round((present / totalTeachers) * 100);
                
                html += `
                    <div class="class-card">
                        <div class="class-header">
                            <div class="class-name">${classData.name}</div>
                            <div class="class-percentage ${getPercentageClass(percentage)}">${percentage}%</div>
                        </div>
                        
                        <div class="class-stats">
                            <div class="stat">
                                <div class="stat-value">${totalTeachers}</div>
                                <div class="stat-label">Total Guru</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value">${present}</div>
                                <div class="stat-label">Hadir</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value">${totalTeachers - present}</div>
                                <div class="stat-label">Tidak Hadir</div>
                            </div>
                        </div>
                        
                        <div class="attendance-list">
                            ${classData.teachers.map(teacher => {
                                const statusClass = teacher.status === 'tidak_hadir' ? 'absent' : 
                                                  teacher.status === 'izin' ? 'leave' : 
                                                  teacher.status === 'sakit' ? 'sick' : '';
                                
                                return `
                                    <div class="attendance-item ${statusClass}">
                                        <div class="teacher-info">
                                            <div class="teacher-name">${teacher.name}</div>
                                            <div class="teacher-subject">${teacher.subject}</div>
                                            ${teacher.time ? `<div class="time">${teacher.time}</div>` : ''}
                                        </div>
                                        <div class="attendance-status status-${teacher.status}">
                                            ${formatStatus(teacher.status)}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            });

            classesGrid.innerHTML = html;
        }

        // Get percentage color class
        function getPercentageClass(percentage) {
            if (percentage >= 90) return 'percentage-excellent';
            if (percentage >= 75) return 'percentage-good';
            if (percentage >= 60) return 'percentage-fair';
            return 'percentage-poor';
        }

        // Format status
        function formatStatus(status) {
            const statusMap = {
                'hadir': 'HADIR',
                'tidak_hadir': 'TIDAK HADIR', 
                'izin': 'IZIN',
                'sakit': 'SAKIT'
            };
            return statusMap[status] || status;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateClock();
            
            // Load data dengan delay untuk efek loading
            setTimeout(() => {
                loadDemoData();
            }, 1000);
            
            // Update clock every second
            setInterval(updateClock, 1000);
        });
    </script>
</body>
</html>